<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Time4Hero</title>
    <meta name="keywords"
          content="игры бесплатно, бесплатная игра, скачать игры бесплатно, бесплатные онлайн игры, mmorpg, mmorpg игра, рпг, рпг игры, онлайн рпг, rpg, rpg игры, скачать rpg, игры онлайн, бесплатные онлайн игры, онлайн флеш игры, браузерная онлайн игра, лучшие онлайн игры, ролевые онлайн игры, интернет игры, мир онлайн игр, интересные игры, онлайновые игры, многопользовательские онлайн игры, многопользовательская ролевая игра, ролевые онлайн игры, бесплатные ролевые игры, online игры, бесплатные игры, rpg"/>
    <meta name="description"
          content="TimeZero - знаменитая постъядерная MMORPG. Тысячи игроков онлайн. Визуальная система боя, развитая экономика, сотни тысяч игровых локаций, широчайший выбор боевых и мирных профессий, десятки видов оружия и брони, множество квестов и секретных миссий!"/>
    <meta property="og:site_name" content="TimeZero. Мир, в котором хочется жить."/>
    <meta property="og:title" content="Культовая игра всё ещё жива"/>
    <meta property="og:image" content="./assets/header.jpg"/>
    <meta name="mrc__share_title" content="TimeZero. Мир, в котором хочется жить.">
    <meta name="mrc__share_description" content="Культовая игра всё ещё жива">
    <link rel="image_src" href="./assets/header.jpg">

    <link rel="icon" href="./timezero.ru/favicon.ico?2" type="image/x-icon"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"
          integrity="sha512-b2QcS5SsA8tZodcDtGRELiGv5SaKSk1vDHDaQRda0htPYWZ6046lr3kJ5bAAQdpV2mmA/4v0wQF9MyU6/pDIAg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="./assets/style.css">
	
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
<section id="header" class="text-center">
    <div class="bg"></div>
    <h2 class="mt-4">Культовая игра всё ещё жива</h2>
    <h1 class="display-1 red">TimeZero</h1>
</section>
<section id="compare" class="container">
    <div class="row">
	.........................................................
        <div class="col-md-6 mb-2">
        <div class="box h-100 chevron chevron20">
                <p><span class="display-6">Time4Hero</span><br>
                    <span class="small">
                    Возрождение всеми любимого ОЛДскула!.
					
                </span></p>
				Скачать клиент: <a href="./files/TimeZeroTM.7z">TimeZeroTM_v_621.7z</a>
				<br>
<form id="registrationForm" action="/register" name="reg" method="POST">

    <table class="forum_table">
        <tbody>
            <tr>
                <td><font color="green"><b>Автор:</b></font></td>
                <td></br><a href="https://t.me/coin_games_ru">t.me/coin_games_ru</a><br><br>Это форма регистрации на сервере</td>
            </tr>
            <tr>
                <td class="leftcol_add_mess">Логин (EN):</td>
                <td><input type="text" name="login" class="leftcol_add_mes_login" maxlength="16" required /></td>
            </tr>
            <tr>
                <td class="leftcol_add_mess">Пароль (EN):</td>
                <td><input type="text" name="pass" class="leftcol_add_mes_login" maxlength="32" required /></td>
            </tr>
            <tr>
                <td colspan="2">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
					
                        <a id="submitLink" class="button red active-button" target="_blank">Регистрация в <b>TimeHero</b></a>
                        <p id="responseMessage" style="color: red; margin-left: 10px; width: 200px; word-wrap: break-word;">Сообщения / Лог...</p>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</form>
            </div>
        </div>
		........................................................
    </div>
</section>
    <script>
	/*
        window.onload = function() {
            if (window.location.protocol === "https:") {
                var newUrl = window.location.href.replace("https://", "http://");
                window.location.replace(newUrl);
            }
        };
*/
$(document).ready(function() {
    $('#submitLink').on('click', function(event) {
        event.preventDefault();

        var formData = $('#registrationForm').serializeArray();
        var errors = [];

        // Проверка на пустоту полей
        for (var i = 0; i < formData.length; i++) {
            if (!formData[i].value.trim()) {
                errors.push(formData[i].name + ' не может быть пустым!');
            }
        }

        // Проверка минимальной длины полей
        var loginField = $('input[name=login]');
        var passField = $('input[name=pass]');

        if (loginField.val().trim().length < 4) {
            errors.push('Логин должен содержать минимум 4 символа!');
        }

        if (passField.val().trim().length < 4) {
            errors.push('Пароль должен содержать минимум 4 символа!');
        }

        // Проверка языка ввода
        if (/[^A-Za-z0-9]/.test(loginField.val()) || /[^A-Za-z0-9]/.test(passField.val())) {
            errors.push('Логин или Пароль должны содержать только латинские символы и цифры!');
        }

        // Если есть ошибки, показываем их и прерываем отправку формы
        if (errors.length > 0) {
            $('#responseMessage').show().text(errors.join(", "));
            $('#responseMessage').css('color', 'red');
            return;
        }

        // Отправляем форму, если ошибок нет
        $.ajax({
            url: 'http://coin-games.ru:505/register',
            type: 'POST',
            data: formData,
            success: function(response) {
                $('#responseMessage').show().text(response.message);

                if (response.message.includes('Успешная регистрация')) {
                    $('#responseMessage').css('color', 'green');
                } else {
                    $('#responseMessage').css('color', 'red');
                }
            },
            error: function(xhr, status, error) {
                console.error('Ошибка при отправке формы:', xhr.status, status, error);
                $('#responseMessage').show().text('Произошла ошибка при регистрации - укажите http:// вместо httpS://');
            }
        });
    });
});
</script>
</body>
</html>